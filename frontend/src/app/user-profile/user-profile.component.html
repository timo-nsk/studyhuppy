<div id="account-container">
  <h2>Profil</h2>
  <div id="account-table-container">
    <table class="table">
      <tbody>
      <tr>
        <th>Username</th>
        <td>{{userData.username}}</td>
        <td></td>
      </tr>
      <tr>
        <th>E-Mail</th>
        <td>
          <p>{{userData.mail}}</p>
        </td>
        <td>
          <a class="btn btn-outline-primary" (click)="toggleEmailChangeForm()">ändern</a>
        </td>
        <div *ngIf="showEmailChangeForm">
          <form [formGroup]="emailChangeForm" (ngSubmit)="putNewEmail()">
            <input formControlName="newMail" placeholder="neue E-Mail-Adresse...">
            <button type="submit">abschicken</button>
          </form>
          <span *ngif="changeSuccess">
            E-Mail-Adresse erfolgreich geändert!
          </span>
          <span class="text-danger" *ngif="changeFail">
            E-Mail-Adresse konnte nicht geändert werden!
          </span>
        </div>
      </tr>
      <tr>
        <th>E-Mail Benachrichtigungen</th>
        <td>
          <div class="form-check form-switch">
            <label for="flexSwitchCheckChecked"></label>
            <input (change)="toggleEmailSubscription()"  class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" [checked]="userData.notificationSubscription">
          </div>
        </td>
        <td></td>
      </tr>
      <tr>
        <th>Fachsemester</th>
        <td>{{userData.semester}}</td>
        <td></td>
      </tr>
      <tr>
        <td>
          <a href="#" class="btn btn-outline-primary">Passwort ändern</a>
        </td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>
          <a th:href="@{/delete-account}" class="btn btn-outline-danger">
            Konto löschen
          </a>
        </td>
        <td></td>
        <td></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<script src="/js/notification-toggler.js"></script>
<script src="/js/get-notification-subscription.js"></script>
