<div id="system-health-table-container">
  <table mat-table [dataSource]="systemHealth" class="mat-elevation-z8 bg-lightgrey">
    <ng-container matColumnDef="service">
      <th class="ff-outfit" mat-header-cell *matHeaderCellDef> Service </th>
      <td class="ff-outfit" mat-cell *matCellDef="let element">
        <a [routerLink]="['/metrics', element.system]">
          {{element.system}}
        </a>
      </td>
    </ng-container>
    <router-outlet></router-outlet>

    <ng-container matColumnDef="ready">
      <th class="ff-outfit" mat-header-cell *matHeaderCellDef> Live </th>
      <td class="ff-outfit" mat-cell *matCellDef="let element">
        <span *ngIf="element.liveness == 'UP'">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-check up" viewBox="0 0 16 16">
            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>
          </svg>
        </span>
        <span *ngIf="element.liveness != 'UP'">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-exclamation-circle down" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
          </svg>
        </span>
      </td>
    </ng-container>

    <ng-container matColumnDef="live">
      <th class="ff-outfit" mat-header-cell *matHeaderCellDef> Ready </th>
      <td class="ff-outfit" mat-cell *matCellDef="let element">
        <span *ngIf="element.readiness == 'UP'">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-check up" viewBox="0 0 16 16">
            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>
          </svg>
        </span>
        <span *ngIf="element.readiness != 'UP'">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-exclamation-circle down" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
          </svg>
        </span>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
