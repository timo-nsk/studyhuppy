<form class="sh-form m-accent-font" [formGroup]="sessionMetaDataForm" (ngSubmit)="saveLernsession()">
  <div class="mb-4">
    <label >Session-Titel</label>
    <input class="form-control" formControlName="sessionTitel" name="session-titel">
    <span class="text-danger"
          *ngIf="sessionMetaDataForm.controls['sessionTitel'].errors?.['required'] && sessionMetaDataForm.controls['sessionTitel'].touched">
              Bitte geben Sie einen Sessiontitel ein
        </span>
  </div>
  <div class="mb-4">
    <label class="form-label">Beschreibung</label>
    <textarea class="form-control" formControlName="sessionBeschreibung" name="session-beschreibung"></textarea>
  </div>
  <div id="lernblock-container" class="mb-4">
    <div id="lernblock-container-head">
      <div>
        <h3>Lernblöcke</h3>
      </div>
      <div>
        <button id="pomodoro-btn" type="button" (click)="setPomodoroTimes()">pomo</button>
      </div>
    </div>
    <div>
      <Lernblock *ngFor="let blockForm of blockFormManager.blockForms; let i = index"
                 [index]="i"
                 [blockForm]="blockForm"
                 [module] = "module"
                 [blockFormManager]="blockFormManager">
      </Lernblock>
    </div>
    <div id="btn-container">
      <button id="add-block-btn" type="button" (click)="appendBlock()">
        <svg width="164" height="65" viewBox="0 0 164 65" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="3" width="158" height="38" rx="9" fill="#F5F5F5" stroke="#383838" stroke-width="2"/>
          <circle cx="82.5" cy="42.5" r="19.5" fill="#F5F5F5" stroke="#383838" stroke-width="2"/>
          <rect x="61" y="22" width="42" height="18" fill="#F5F5F5"/>
          <rect x="61" y="22" width="42" height="18" fill="#F5F5F5"/>
          <path d="M15.8818 27V17.0469H19.2246C19.7669 17.0469 20.2591 17.1016 20.7012 17.2109C21.1478 17.3203 21.5283 17.4867 21.8428 17.71C22.1572 17.9333 22.3988 18.2158 22.5674 18.5576C22.7406 18.8994 22.8271 19.3027 22.8271 19.7676C22.8226 20.0684 22.7679 20.3532 22.6631 20.6221C22.5628 20.8864 22.4124 21.1188 22.2119 21.3193C22.1025 21.4287 21.9772 21.529 21.8359 21.6201C21.6992 21.7113 21.5465 21.7887 21.3779 21.8525V21.8594C21.7061 21.9505 21.9658 22.0667 22.1572 22.208C22.3532 22.3493 22.5173 22.5133 22.6494 22.7002C22.7861 22.9007 22.8864 23.1195 22.9502 23.3564C23.0186 23.5889 23.0527 23.8304 23.0527 24.0811C23.0527 24.5596 22.9707 24.9811 22.8066 25.3457C22.6426 25.7103 22.4079 26.0156 22.1025 26.2617C21.7972 26.5078 21.4258 26.6924 20.9883 26.8154C20.5508 26.9385 20.0586 27 19.5117 27H15.8818ZM17.8096 22.6113V25.4482H19.5186C19.7692 25.4482 19.9925 25.4163 20.1885 25.3525C20.389 25.2887 20.5553 25.2021 20.6875 25.0928C20.8333 24.9697 20.9427 24.8216 21.0156 24.6484C21.0931 24.4753 21.1318 24.2816 21.1318 24.0674C21.1318 23.8441 21.1022 23.6436 21.043 23.4658C20.9883 23.2881 20.8994 23.1377 20.7764 23.0146C20.6533 22.887 20.4938 22.7891 20.2979 22.7207C20.1019 22.6523 19.8695 22.6159 19.6006 22.6113H17.8096ZM17.8096 21.2236H19.2383C19.5299 21.2191 19.7874 21.1849 20.0107 21.1211C20.234 21.0527 20.4141 20.9525 20.5508 20.8203C20.6647 20.7155 20.7513 20.5879 20.8105 20.4375C20.8743 20.2871 20.9062 20.1162 20.9062 19.9248C20.9062 19.7243 20.8789 19.5488 20.8242 19.3984C20.7741 19.248 20.6966 19.1227 20.5918 19.0225C20.4551 18.8812 20.2705 18.7786 20.0381 18.7148C19.8102 18.651 19.5413 18.6169 19.2314 18.6123H17.8096V21.2236ZM24.7686 16.5H28.9043V25.4551H31.0234V27H24.7686V25.4551H26.9834V18.0518H24.7686V16.5ZM32.5205 23.2334C32.5205 22.6956 32.598 22.1989 32.7529 21.7432C32.9079 21.2829 33.1357 20.8841 33.4365 20.5469C33.7327 20.2096 34.0951 19.9453 34.5234 19.7539C34.9564 19.5625 35.4508 19.4668 36.0068 19.4668C36.5628 19.4668 37.0573 19.5625 37.4902 19.7539C37.9232 19.9453 38.29 20.2096 38.5908 20.5469C38.887 20.8841 39.1126 21.2829 39.2676 21.7432C39.4225 22.1989 39.5 22.6956 39.5 23.2334V23.377C39.5 23.9193 39.4225 24.4206 39.2676 24.8809C39.1126 25.3366 38.887 25.7331 38.5908 26.0703C38.2946 26.4076 37.93 26.6719 37.4971 26.8633C37.0641 27.0501 36.5719 27.1436 36.0205 27.1436C35.4645 27.1436 34.9678 27.0501 34.5303 26.8633C34.0973 26.6719 33.7327 26.4076 33.4365 26.0703C33.1357 25.7331 32.9079 25.3366 32.7529 24.8809C32.598 24.4206 32.5205 23.9193 32.5205 23.377V23.2334ZM34.4209 23.377C34.4209 23.6868 34.4505 23.9785 34.5098 24.252C34.569 24.5208 34.6624 24.7555 34.79 24.9561C34.9176 25.1611 35.0817 25.3229 35.2822 25.4414C35.4873 25.5599 35.7334 25.6191 36.0205 25.6191C36.2985 25.6191 36.5378 25.5599 36.7383 25.4414C36.9388 25.3229 37.1029 25.1611 37.2305 24.9561C37.3535 24.7555 37.4447 24.5208 37.5039 24.252C37.5632 23.9785 37.5928 23.6868 37.5928 23.377V23.2334C37.5928 22.9326 37.5632 22.6478 37.5039 22.3789C37.4447 22.11 37.3535 21.873 37.2305 21.668C37.1029 21.4629 36.9388 21.3011 36.7383 21.1826C36.5378 21.0641 36.2939 21.0049 36.0068 21.0049C35.7243 21.0049 35.4827 21.0641 35.2822 21.1826C35.0817 21.3011 34.9176 21.4629 34.79 21.668C34.6624 21.873 34.569 22.11 34.5098 22.3789C34.4505 22.6478 34.4209 22.9326 34.4209 23.2334V23.377ZM44.4629 25.6191C44.6497 25.6191 44.8275 25.5918 44.9961 25.5371C45.1647 25.4824 45.3128 25.4049 45.4404 25.3047C45.568 25.2044 45.666 25.0837 45.7344 24.9424C45.8073 24.8011 45.8392 24.6439 45.8301 24.4707H47.6211C47.6302 24.8535 47.5505 25.209 47.3818 25.5371C47.2178 25.8652 46.9922 26.1478 46.7051 26.3848C46.418 26.6217 46.083 26.8086 45.7002 26.9453C45.3219 27.0775 44.9209 27.1436 44.4971 27.1436C43.9229 27.1436 43.4193 27.0479 42.9863 26.8564C42.5534 26.6605 42.1934 26.3939 41.9062 26.0566C41.6146 25.7194 41.3936 25.3252 41.2432 24.874C41.0973 24.4183 41.0244 23.9307 41.0244 23.4111V23.2061C41.0244 22.6865 41.0973 22.2012 41.2432 21.75C41.389 21.2943 41.6077 20.8978 41.8994 20.5605C42.1911 20.2233 42.5511 19.9567 42.9795 19.7607C43.4124 19.5648 43.9137 19.4668 44.4834 19.4668C44.9391 19.4668 45.3607 19.5352 45.748 19.6719C46.1354 19.8086 46.4704 20 46.7529 20.2461C47.0309 20.4967 47.2474 20.7998 47.4023 21.1553C47.5573 21.5062 47.6302 21.9004 47.6211 22.3379H45.8301C45.8392 22.1556 45.8118 21.9824 45.748 21.8184C45.6842 21.6543 45.5908 21.513 45.4678 21.3945C45.3447 21.276 45.1966 21.1826 45.0234 21.1143C44.8503 21.0413 44.6611 21.0049 44.4561 21.0049C44.1553 21.0049 43.9069 21.0664 43.7109 21.1895C43.515 21.3125 43.36 21.4766 43.2461 21.6816C43.1276 21.8867 43.0433 22.1214 42.9932 22.3857C42.9476 22.6501 42.9248 22.9235 42.9248 23.2061V23.4111C42.9248 23.6982 42.9476 23.9762 42.9932 24.2451C43.0387 24.5094 43.1208 24.7419 43.2393 24.9424C43.3532 25.1475 43.5081 25.3115 43.7041 25.4346C43.9046 25.5576 44.1576 25.6191 44.4629 25.6191ZM52.3789 23.9443L51.5176 24.7441V27H49.6172V16.5H51.5176V22.502L52.0918 21.8457L54.1357 19.6035H56.4189L53.6299 22.6865L56.8086 27H54.4775L52.3789 23.9443ZM68.3135 20.6221C68.4092 20.4808 68.514 20.3509 68.6279 20.2324C68.7464 20.1094 68.8695 20.0023 68.9971 19.9111C69.193 19.7699 69.4095 19.6605 69.6465 19.583C69.8835 19.5055 70.1341 19.4668 70.3984 19.4668C70.7858 19.4668 71.1413 19.526 71.4648 19.6445C71.7884 19.7585 72.0664 19.9385 72.2988 20.1846C72.5312 20.4307 72.7113 20.7474 72.8389 21.1348C72.971 21.5176 73.0371 21.9801 73.0371 22.5225V27H71.1367V22.5088C71.1367 22.2445 71.1025 22.0166 71.0342 21.8252C70.9704 21.6338 70.877 21.4788 70.7539 21.3604C70.6309 21.2419 70.4827 21.1553 70.3096 21.1006C70.1364 21.0413 69.9404 21.0117 69.7217 21.0117C69.5531 21.0117 69.3958 21.0277 69.25 21.0596C69.1042 21.0915 68.972 21.1393 68.8535 21.2031C68.7441 21.2578 68.6439 21.3239 68.5527 21.4014C68.4661 21.4788 68.3864 21.5654 68.3135 21.6611V27H66.4131V16.5H68.3135V20.6221ZM75.3271 19.6035H79.3535V25.4551H81.3564V27H75.3271V25.4551H77.4326V21.1553H75.3271V19.6035ZM77.2959 17.71C77.2959 17.5641 77.321 17.4297 77.3711 17.3066C77.4258 17.179 77.501 17.0697 77.5967 16.9785C77.6924 16.8919 77.8063 16.8236 77.9385 16.7734C78.0752 16.7233 78.2256 16.6982 78.3896 16.6982C78.7269 16.6982 78.9935 16.7939 79.1895 16.9854C79.39 17.1722 79.4902 17.4137 79.4902 17.71C79.4902 18.0062 79.39 18.25 79.1895 18.4414C78.9935 18.6283 78.7269 18.7217 78.3896 18.7217C78.2256 18.7217 78.0752 18.6966 77.9385 18.6465C77.8063 18.5964 77.6924 18.5257 77.5967 18.4346C77.501 18.348 77.4258 18.2432 77.3711 18.1201C77.321 17.9925 77.2959 17.8558 77.2959 17.71ZM83.2295 27V19.6035H84.9521L85.0684 20.6289C85.1641 20.4922 85.2689 20.3669 85.3828 20.2529C85.4967 20.139 85.6175 20.0365 85.7451 19.9453C85.9639 19.7904 86.2031 19.6719 86.4629 19.5898C86.7227 19.5078 86.9984 19.4668 87.29 19.4668C87.6637 19.4668 88.0055 19.5215 88.3154 19.6309C88.6253 19.7402 88.8942 19.9134 89.1221 20.1504C89.3454 20.3919 89.5186 20.7018 89.6416 21.0801C89.7692 21.4538 89.833 21.9095 89.833 22.4473V27H87.9326V22.4746C87.9326 22.1829 87.8984 21.9437 87.8301 21.7568C87.7663 21.5654 87.6729 21.415 87.5498 21.3057C87.4268 21.1963 87.2786 21.1211 87.1055 21.0801C86.9323 21.0345 86.7363 21.0117 86.5176 21.0117C86.3353 21.0117 86.1667 21.0322 86.0117 21.0732C85.8613 21.1143 85.7269 21.1758 85.6084 21.2578C85.5127 21.3171 85.4261 21.3877 85.3486 21.4697C85.2712 21.5518 85.2005 21.6429 85.1367 21.7432V27H83.2295ZM94.0781 25.4756H98.4326V27H91.4805V25.8242L95.623 21.1484H91.5762V19.6035H98.2617V20.7451L94.0781 25.4756ZM104.872 27L104.763 25.9609C104.512 26.3301 104.209 26.6195 103.854 26.8291C103.503 27.0387 103.118 27.1436 102.698 27.1436C102.315 27.1436 101.965 27.0843 101.646 26.9658C101.326 26.8473 101.053 26.6582 100.825 26.3984C100.597 26.1432 100.42 25.8174 100.292 25.4209C100.169 25.0199 100.107 24.5391 100.107 23.9785V19.6035H102.008V23.9922C102.008 24.293 102.028 24.5459 102.069 24.751C102.115 24.9561 102.186 25.1201 102.281 25.2432C102.377 25.3708 102.502 25.4619 102.657 25.5166C102.812 25.5713 103.001 25.5986 103.225 25.5986C103.425 25.5986 103.605 25.5781 103.765 25.5371C103.929 25.4961 104.072 25.4368 104.195 25.3594C104.3 25.291 104.394 25.209 104.476 25.1133C104.558 25.0176 104.628 24.9105 104.688 24.792V19.6035H106.595V27H104.872ZM110.293 27V21.0049H108.352V19.6035H110.293V19.2002C110.293 18.7126 110.37 18.2819 110.525 17.9082C110.68 17.5345 110.901 17.2201 111.188 16.9648C111.476 16.7096 111.824 16.5182 112.234 16.3906C112.645 16.2585 113.103 16.1924 113.608 16.1924C113.768 16.1924 113.921 16.1992 114.066 16.2129C114.217 16.222 114.363 16.2357 114.504 16.2539C114.645 16.2721 114.786 16.2926 114.928 16.3154C115.074 16.3382 115.224 16.3633 115.379 16.3906L115.256 17.8809C115.083 17.8444 114.887 17.8125 114.668 17.7852C114.449 17.7578 114.192 17.7441 113.896 17.7441C113.576 17.7441 113.305 17.7806 113.082 17.8535C112.859 17.9264 112.681 18.0335 112.549 18.1748C112.43 18.2933 112.341 18.4391 112.282 18.6123C112.228 18.7855 112.2 18.9814 112.2 19.2002V19.6035H114.866V21.0049H112.2V27H110.293ZM121.688 27L121.579 25.9609C121.328 26.3301 121.025 26.6195 120.67 26.8291C120.319 27.0387 119.934 27.1436 119.515 27.1436C119.132 27.1436 118.781 27.0843 118.462 26.9658C118.143 26.8473 117.869 26.6582 117.642 26.3984C117.414 26.1432 117.236 25.8174 117.108 25.4209C116.985 25.0199 116.924 24.5391 116.924 23.9785V19.6035H118.824V23.9922C118.824 24.293 118.845 24.5459 118.886 24.751C118.931 24.9561 119.002 25.1201 119.098 25.2432C119.193 25.3708 119.319 25.4619 119.474 25.5166C119.629 25.5713 119.818 25.5986 120.041 25.5986C120.242 25.5986 120.422 25.5781 120.581 25.5371C120.745 25.4961 120.889 25.4368 121.012 25.3594C121.117 25.291 121.21 25.209 121.292 25.1133C121.374 25.0176 121.445 24.9105 121.504 24.792V19.6035H123.411V27H121.688ZM117.546 17.6279C117.546 17.391 117.632 17.1904 117.806 17.0264C117.979 16.8577 118.202 16.7734 118.476 16.7734C118.749 16.7734 118.972 16.8577 119.146 17.0264C119.319 17.1904 119.405 17.391 119.405 17.6279C119.405 17.8695 119.316 18.0723 119.139 18.2363C118.965 18.3958 118.744 18.4756 118.476 18.4756C118.207 18.4756 117.983 18.3958 117.806 18.2363C117.632 18.0723 117.546 17.8695 117.546 17.6279ZM120.827 17.6279C120.827 17.3955 120.911 17.1973 121.08 17.0332C121.253 16.8646 121.479 16.7803 121.757 16.7803C122.035 16.7803 122.258 16.8646 122.427 17.0332C122.6 17.1973 122.687 17.3955 122.687 17.6279C122.687 17.874 122.6 18.0791 122.427 18.2432C122.254 18.4072 122.03 18.4893 121.757 18.4893C121.483 18.4893 121.26 18.4072 121.087 18.2432C120.914 18.0791 120.827 17.874 120.827 17.6279ZM125.079 23.2471C125.079 22.6865 125.147 22.1738 125.284 21.709C125.425 21.2441 125.626 20.8454 125.886 20.5127C126.146 20.18 126.46 19.9225 126.829 19.7402C127.198 19.5579 127.615 19.4668 128.08 19.4668C128.331 19.4668 128.559 19.4919 128.764 19.542C128.973 19.5876 129.162 19.6582 129.331 19.7539C129.459 19.8223 129.577 19.9043 129.687 20C129.796 20.0911 129.896 20.1937 129.987 20.3076L130.062 19.6035H131.792V26.7607C131.792 27.262 131.705 27.7087 131.532 28.1006C131.364 28.4925 131.127 28.8229 130.821 29.0918C130.511 29.3607 130.14 29.5635 129.707 29.7002C129.279 29.8415 128.805 29.9121 128.285 29.9121C128.062 29.9121 127.823 29.8893 127.567 29.8438C127.312 29.7982 127.059 29.7275 126.809 29.6318C126.558 29.5361 126.321 29.4131 126.098 29.2627C125.874 29.1169 125.683 28.9414 125.523 28.7363L126.378 27.5811C126.501 27.7223 126.633 27.8454 126.774 27.9502C126.916 28.0596 127.064 28.1484 127.219 28.2168C127.369 28.2852 127.524 28.3353 127.684 28.3672C127.848 28.4036 128.016 28.4219 128.189 28.4219C128.467 28.4219 128.714 28.3831 128.928 28.3057C129.146 28.2282 129.329 28.1143 129.475 27.9639C129.607 27.8271 129.707 27.6585 129.775 27.458C129.848 27.2575 129.885 27.0319 129.885 26.7812V26.3574C129.794 26.4577 129.698 26.5488 129.598 26.6309C129.497 26.7129 129.39 26.7858 129.276 26.8496C129.108 26.9408 128.921 27.0114 128.716 27.0615C128.515 27.1117 128.299 27.1367 128.066 27.1367C127.606 27.1367 127.191 27.0433 126.822 26.8564C126.458 26.665 126.146 26.403 125.886 26.0703C125.626 25.7376 125.425 25.3434 125.284 24.8877C125.147 24.4274 125.079 23.9284 125.079 23.3906V23.2471ZM126.986 23.3906C126.986 23.7005 127.016 23.9899 127.075 24.2588C127.139 24.5231 127.235 24.7533 127.362 24.9492C127.49 25.1497 127.652 25.307 127.848 25.4209C128.044 25.5348 128.276 25.5918 128.545 25.5918C128.709 25.5918 128.857 25.5758 128.989 25.5439C129.126 25.512 129.249 25.4665 129.358 25.4072C129.472 25.3434 129.573 25.266 129.659 25.1748C129.746 25.0837 129.821 24.9811 129.885 24.8672V21.7363C129.816 21.6087 129.734 21.4971 129.639 21.4014C129.543 21.3057 129.434 21.2282 129.311 21.1689C129.206 21.1188 129.09 21.0801 128.962 21.0527C128.839 21.0254 128.704 21.0117 128.559 21.0117C128.29 21.0117 128.057 21.071 127.861 21.1895C127.665 21.3034 127.504 21.4606 127.376 21.6611C127.244 21.8662 127.146 22.1055 127.082 22.3789C127.018 22.6478 126.986 22.9372 126.986 23.2471V23.3906ZM137.268 27.1367C136.698 27.1367 136.181 27.0433 135.716 26.8564C135.251 26.6696 134.852 26.4144 134.52 26.0908C134.187 25.7718 133.929 25.3958 133.747 24.9629C133.569 24.5254 133.48 24.0583 133.48 23.5615V23.2881C133.48 22.723 133.569 22.208 133.747 21.7432C133.925 21.2738 134.173 20.8704 134.492 20.5332C134.811 20.196 135.189 19.9339 135.627 19.7471C136.064 19.5602 136.541 19.4668 137.056 19.4668C137.589 19.4668 138.063 19.5557 138.478 19.7334C138.897 19.9066 139.252 20.1527 139.544 20.4717C139.831 20.7907 140.05 21.1758 140.2 21.627C140.351 22.0736 140.426 22.568 140.426 23.1104V23.917H135.408V23.9375C135.472 24.2337 135.554 24.473 135.654 24.6553C135.755 24.833 135.889 24.9948 136.058 25.1406C136.231 25.291 136.429 25.4072 136.652 25.4893C136.876 25.5713 137.119 25.6123 137.384 25.6123C137.757 25.6123 138.12 25.5417 138.471 25.4004C138.822 25.2591 139.106 25.0472 139.325 24.7646L140.275 25.79C140.034 26.1318 139.651 26.4417 139.127 26.7197C138.603 26.9977 137.983 27.1367 137.268 27.1367ZM137.042 21.0049C136.828 21.0049 136.632 21.0436 136.454 21.1211C136.276 21.194 136.121 21.3011 135.989 21.4424C135.853 21.5837 135.739 21.7523 135.647 21.9482C135.556 22.1442 135.488 22.363 135.442 22.6045H138.56V22.4541C138.56 22.2536 138.523 22.0645 138.45 21.8867C138.377 21.709 138.277 21.554 138.149 21.4219C138.022 21.2943 137.865 21.194 137.678 21.1211C137.495 21.0436 137.284 21.0049 137.042 21.0049ZM142.087 27V19.6035H143.81L143.926 20.6289C144.021 20.4922 144.126 20.3669 144.24 20.2529C144.354 20.139 144.475 20.0365 144.603 19.9453C144.821 19.7904 145.061 19.6719 145.32 19.5898C145.58 19.5078 145.856 19.4668 146.147 19.4668C146.521 19.4668 146.863 19.5215 147.173 19.6309C147.483 19.7402 147.752 19.9134 147.979 20.1504C148.203 20.3919 148.376 20.7018 148.499 21.0801C148.627 21.4538 148.69 21.9095 148.69 22.4473V27H146.79V22.4746C146.79 22.1829 146.756 21.9437 146.688 21.7568C146.624 21.5654 146.53 21.415 146.407 21.3057C146.284 21.1963 146.136 21.1211 145.963 21.0801C145.79 21.0345 145.594 21.0117 145.375 21.0117C145.193 21.0117 145.024 21.0322 144.869 21.0732C144.719 21.1143 144.584 21.1758 144.466 21.2578C144.37 21.3171 144.284 21.3877 144.206 21.4697C144.129 21.5518 144.058 21.6429 143.994 21.7432V27H142.087Z" fill="#383838"/>
          <rect x="81" y="51" width="17" height="3" rx="1.5" transform="rotate(-90 81 51)" fill="#383838"/>
          <rect x="74" y="41" width="17" height="3" rx="1.5" fill="#383838"/>
        </svg>
      </button>
    </div>
  </div>
  <div class="mb-4">
    <button class="sh-btn" type="submit">
      <span *ngIf="!hasLernsessionToEdit()">Lernsession speichern</span>
      <span *ngIf="hasLernsessionToEdit()">Änderungen speichern</span>
    </button>
  </div>
</form>
